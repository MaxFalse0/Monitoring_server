{% extends "base.html" %}
{% block title %}–û—Ç—á—ë—Ç{% endblock %}
{% block content %}
<h1 class="page-title">–°–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç</h1>

{% if cpu_min is not none %}
<div class="island" style="max-width: 600px;">
    <p><strong>CPU:</strong> {{ cpu_avg|round(2) if cpu_avg is not none else '‚Äî' }}%
    (–º–∏–Ω: {{ cpu_min|round(2) if cpu_min is not none else '‚Äî' }}%,
     –º–∞–∫—Å: {{ cpu_max|round(2) if cpu_max is not none else '‚Äî' }}%)</p>

    <p><strong>RAM:</strong> {{ ram_avg|round(2) if ram_avg is not none else '‚Äî' }}%
    (–º–∏–Ω: {{ ram_min|round(2) if ram_min is not none else '‚Äî' }}%,
     –º–∞–∫—Å: {{ ram_max|round(2) if ram_max is not none else '‚Äî' }}%)</p>

    <p><strong>Disk:</strong> {{ disk_avg|round(2) if disk_avg is not none else '‚Äî' }}%
    (–º–∏–Ω: {{ disk_min|round(2) if disk_min is not none else '‚Äî' }}%,
     –º–∞–∫—Å: {{ disk_max|round(2) if disk_max is not none else '‚Äî' }}%)</p>

    <p><strong>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:</strong>
    {% if temp_avg is not none %}
        {{ temp_avg|round(1) }}¬∞C (–º–∏–Ω: {{ temp_min|round(1) }}, –º–∞–∫—Å: {{ temp_max|round(1) }})
    {% else %}
        –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö
    {% endif %}
    </p>

    <p><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:</strong>
    {{ users_avg|round(0) if users_avg is not none else '‚Äî' }}
    (–º–∏–Ω: {{ users_min if users_min is not none else '‚Äî' }},
     –º–∞–∫—Å: {{ users_max if users_max is not none else '‚Äî' }})</p>

    <p><strong>Net RX:</strong>
    {{ net_rx_avg|round(2) if net_rx_avg is not none else '‚Äî' }} MB
    (–º–∏–Ω: {{ net_rx_min|round(2) if net_rx_min is not none else '‚Äî' }} MB,
     –º–∞–∫—Å: {{ net_rx_max|round(2) if net_rx_max is not none else '‚Äî' }} MB)</p>

    <p><strong>Net TX:</strong>
    {{ net_tx_avg|round(2) if net_tx_avg is not none else '‚Äî' }} MB
    (–º–∏–Ω: {{ net_tx_min|round(2) if net_tx_min is not none else '‚Äî' }} MB,
     –º–∞–∫—Å: {{ net_tx_max|round(2) if net_tx_max is not none else '‚Äî' }} MB)</p>
</div>
{% else %}
<div class="island" style="max-width: 600px; margin: auto; padding: 40px; text-align: center; background-color: #1f1f1f; border: 1px solid #333; border-radius: 16px; box-shadow: 0 0 10px #00000050;">
    <div style="font-size: 3em; margin-bottom: 10px;">üìâ</div>
    <h2 style="color: #fff; font-size: 1.6em;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</h2>
    <p style="color: var(--hint); font-size: 1em; margin: 10px 0 25px;">
        –û—Ç—á—ë—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª.
    </p>
    <form method="get" style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
        <input type="number" name="days" value="{{ days }}" min="1" required
               style="width: 120px; padding: 10px; border-radius: 8px; background: #2c2c2c; border: 1px solid #444; color: #fff;">
        <button type="submit" class="btn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
    </form>
</div>
{% endif %}

<a href="{{ url_for('export_data') }}" class="btn" style="display: inline-block; margin-top: 30px;">üì• –≠–∫—Å–ø–æ—Ä—Ç CSV</a>
{% endblock %}
